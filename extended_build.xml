<?xml version="1.0" encoding="UTF-8"?>
<project>
    <property name="extended.basedir" location="${basedir}/build" />

    <property name="config.directory" location="${extended.basedir}/config" />
    <property name="externals.directory" location="${extended.basedir}/externals" />
    <property name="subscripts.directory" location="${extended.basedir}/subscripts" />
    <property name="subscripts.test.project.directory"
            location="${subscripts.directory}/test_project" />
    <property name="reports.directory" location="${basedir}/reports" />
    <property name="python.executable" value="python" />

    <property file="${config.directory}/extension.properties" />

    <!-- Clean workspace.
         This target does not have description attribute. Because this target
         is private from build.xml.
     -->
    <target name="clean-all" depends="clean">
        <antcall target="-clean-tests-if-enabled" />
        <delete dir="${reports.directory}" />
    </target>

    <if condition="${findbugs.enable}">
        <then>
            <import file="${subscripts.directory}/findbugs.xml" />
        </then>
    </if>

    <if condition="${test.enable}">
        <then>
            <import file="${subscripts.directory}/run-tests.xml" />
            <property name="test.project.directory"
                    location="${basedir}/${test.project.directory}" />
        </then>
    </if>

    <target name="-clean-tests-if-enabled" if="${test.enable}">
        <ant dir="${test.project.directory}" target="clean"
                inheritAll="false" />
    </target>
</project>